{"version":3,"sources":["webpack:///./src/pages/upload/index.vue?9a23","webpack:///./src/pages/upload/index.vue","webpack:///./src/pages/upload/index.vue?60b9","webpack:///./src/pages/upload/index.vue?5a12"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","className","htmlFor","class","hover","on","drop","handleDrop","dragenter","handleDragEnter","dragover","$event","preventDefault","dragleave","handleDragLeave","icon","width","height","_v","type","name","id","change","imageFileValidater","ref","title","ok","uploadImageHandler","storedImage","staticRenderFns","uploadvue_type_script_lang_ts_Upload","_Vue","Upload","_this","Object","classCallCheck","inherits","createClass","key","value","image","imageStore","uploadImage","_ref","target","file","files","uploadedImageFile","URL","createObjectURL","fileExtension","substring","lastIndexOf","toLowerCase","fileSize","size","alert","ev","stopPropagation","uploadObj","dataTransfer","document","addEventListener","bind","storedData","JSON","parse","localStorage","getItem","$refs","storedImageModal","show","removeEventListener","get","vue_property_decorator","tslib_es6","components","AppTitle","uploadvue_type_script_lang_ts_","pages_uploadvue_type_script_lang_ts_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/Upload.28abe2ef.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload\"},[_c('div',{staticClass:\"upload__contents\"},[_c('app-title',{attrs:{\"className\":\"upload__title\"}}),_c('label',{attrs:{\"htmlFor\":\"upload\"}},[_c('div',{class:(\"upload__drop-zone \" + (_vm.hover ? 'drop-target' : '')),on:{\"drop\":_vm.handleDrop,\"dragenter\":_vm.handleDragEnter,\"dragover\":function($event){$event.preventDefault();return (function () {})($event)},\"dragleave\":_vm.handleDragLeave}},[_c('svgicon',{attrs:{\"icon\":\"file-upload-outline\",\"width\":\"60\",\"height\":\"60\"}}),_c('h2',[_vm._v(\"Drop the image file here\")]),_c('input',{attrs:{\"type\":\"file\",\"name\":\"upload\",\"id\":\"upload\"},on:{\"change\":_vm.imageFileValidater}}),_c('p',[_vm._v(\"or Select a image file\")])],1)])],1),_c('b-modal',{ref:\"storedImageModal\",attrs:{\"title\":\"Polyshaper\"},on:{\"ok\":function($event){return _vm.uploadImageHandler(_vm.storedImage)}}},[_c('p',[_vm._v(\"기존에 작업하던 이미지가 남아있습니다.\")]),_c('p',[_vm._v(\"이어서 진행하시겠습니까?\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Watch } from 'vue-property-decorator';\nimport imageStore from '@/store/imageStore';\nimport { InputFileEvent } from '@/models/interfaces';\nimport { AppTitle } from '@/components';\nimport { Modal } from 'bootstrap-vue';\n\n@Component({ components: { AppTitle } })\nexport default class Upload extends Vue {\n  private hover: boolean = false;\n\n  private storedImage: string;\n\n  public $refs!: {\n    storedImageModal: Modal;\n  }\n\n  get uploadedImage(): string {\n    return imageStore.image;\n  }\n\n  uploadImageHandler(image?: string): void {\n    imageStore.uploadImage(image);\n  }\n\n  imageFileValidater({ target }: InputFileEvent) {\n    const file: File = target.files[0];\n    const uploadedImageFile: string = URL.createObjectURL(file);\n    const fileExtension = file.name.substring(file.name.lastIndexOf('.') + 1).toLowerCase();\n\n    if (fileExtension === 'png' || fileExtension === 'bmp' || fileExtension === 'jpeg' || fileExtension === 'jpg') {\n      if (uploadedImageFile && file) {\n        const fileSize = file.size;\n        if (fileSize > 10485760) {\n          alert('10MB 이상의 이미지는 업로드 불가합니다.');\n          this.uploadImageHandler();\n        }\n      }\n      this.uploadImageHandler(uploadedImageFile);\n    } else {\n      alert('jpg, png 파일만 업로드 할 수 있습니다.');\n      this.uploadImageHandler();\n    }\n  }\n\n  handleDrop(ev: any) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    const uploadObj = {\n      target: ev.dataTransfer,\n    };\n    this.hover = false;\n    this.imageFileValidater(uploadObj);\n  }\n\n  handleDragEnter(ev: MouseEvent) {\n    ev.preventDefault();\n    this.hover = true;\n  }\n\n  handleDragLeave(ev: MouseEvent) {\n    this.hover = false;\n  }\n\n  created() {\n    document.addEventListener('drop', this.handleDrop.bind(this));\n  }\n\n  mounted() {\n    const storedData = JSON.parse(localStorage.getItem('poly'));\n    if (storedData) {\n      const storedImage = storedData.image;\n      this.storedImage = storedImage;\n      this.$refs.storedImageModal.show();\n    }\n  }\n\n  beforeDestroy() {\n    document.removeEventListener('drop', this.handleDrop);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6d4b76cb&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}