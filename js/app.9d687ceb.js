(function(e){function t(t){for(var o,i,c=t[0],l=t[1],u=t[2],f=0,d=[];f<c.length;f++)i=c[f],n[i]&&d.push(n[i][0]),n[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);s&&s(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,i=1;i<r.length;i++){var l=r[i];0!==n[l]&&(o=!1)}o&&(a.splice(t--,1),e=c(c.s=r[0]))}return e}var o={},n={app:0},a=[];function i(e){return c.p+"js/"+({"PolyEdit~Upload":"PolyEdit~Upload",PolyEdit:"PolyEdit",Upload:"Upload"}[e]||e)+"."+{"PolyEdit~Upload":"9a46ccf3",PolyEdit:"97a07613",Upload:"b4854555"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise(function(t,o){r=n[e]=[t,o]});t.push(r[2]=o);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e),a=function(t){l.onerror=l.onload=null,clearTimeout(u);var r=n[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+o+": "+a+")");i.type=o,i.request=a,r[1](i)}n[e]=void 0}};var u=setTimeout(function(){a({type:"timeout",target:l})},12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(r,o,function(t){return e[t]}.bind(null,o));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/polyshaper-remaster/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var f=0;f<l.length;f++)t(l[f]);var s=u;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"0613":function(e,t,r){"use strict";var o=r("2b0e"),n=r("2f62");o["default"].use(n["a"]);var a=new n["a"].Store({});t["a"]=a},"5f86":function(e,t,r){"use strict";var o=r("2b0e"),n=r("8c4f"),a=function(){return Promise.all([r.e("PolyEdit~Upload"),r.e("Upload")]).then(r.bind(null,"2d63"))},i=function(){return Promise.all([r.e("PolyEdit~Upload"),r.e("PolyEdit")]).then(r.bind(null,"3f23"))};o["default"].use(n["a"]);var c=new n["a"]({mode:"history",base:"/polyshaper-remaster/",routes:[{path:"/",redirect:"/upload"},{path:"/upload",name:"upload",component:a},{path:"/poly-edit/:image",name:"poly-edit",component:i}]});c.beforeEach(function(e,t,r){return r()}),t["a"]=c},cd49:function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var o=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},a=[],i=r("2877"),c={},l=Object(i["a"])(c,n,a,!1,null,null,null),u=l.exports,f=r("5f86"),s=r("0613"),d=r("768b"),p=(r("6c7b"),{install:function(e){e.vertexStack=[],e.imgaeMemoize,e.prototype.$drawBackgroundImage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.imgaeMemoize,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.imgaeMemoize||(e.imgaeMemoize=t);var n=r.getContext("2d");n.save(),n.globalAlpha=o,n.drawImage(t,0,0),n.restore()},e.prototype.$fillBackgroundColor=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source-over",o=t.getContext("2d");o.save(),o.globalCompositeOperation=r,o.fillStyle=e,o.fillRect(0,0,t.width,t.height),o.restore()},e.prototype.$makeVertexOnCanvas=function(t){var r=t.x,o=t.y;e.vertexStack.push({x:r,y:o})},e.prototype.$makeFaceOnCanvas=function(t,r){var o=t.color,n=t.vertices,a=r.getContext("2d");a.save(),n.forEach(function(e){a.beginPath(),a.moveTo(e.x,e.y),e.next.forEach(function(e){a.lineTo(e.x,e.y)}),a.closePath(),a.fillStyle=o,a.fill()}),a.restore(),e.vertexStack.length=0},e.prototype.$clearCanvas=function(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)},e.prototype.$drawAllFaces=function(e,t){var r=e.getContext("2d");r.clearRect(0,0,e.width,e.height),r.save(),r.beginPath(),t.forEach(function(e){e.vertices.forEach(function(t){r.beginPath(),r.moveTo(t.x,t.y),t.next.forEach(function(e){r.lineTo(e.x,e.y)}),r.closePath(),r.fillStyle=e.color,r.fill()})}),r.restore()},e.prototype.$getColorAverage=function(e,t,r){var o=t.getContext("2d"),n=Object(d["a"])(e,3),a=n[0],i=a.x,c=a.y,l=n[1],u=l.x,f=l.y,s=n[2],p=s.x,h=s.y;o.clearRect(0,0,t.width,t.height),o.save(),o.beginPath(),o.moveTo(i,c),o.lineTo(u,f),o.lineTo(p,h),o.closePath(),o.clip();var g=Math.max(i,u,p),v=Math.max(c,f,h),y=Math.min(i,u,p),m=Math.min(c,f,h);if("string"===typeof r){var b=document.createElement("img");b.src=r,o.drawImage(b,0,0)}else o.drawImage(r,0,0);for(var x=o.getImageData(y,m,Math.ceil(g-y)||1,Math.ceil(v-m)||1),P=x.data,w=0,E={r:0,g:0,b:0},S=-4;S<P.length;S+=20)P[S+3]>200&&(++w,E.r+=P[S],E.g+=P[S+1],E.b+=P[S+2]);return E.r=~~(E.r/w),E.g=~~(E.g/w),E.b=~~(E.b/w),o.restore(),E},e.prototype.$getComplementaryColorFromCoordinate=function(e,t,r){var o=e.x,n=e.y,a=t.getContext("2d"),i=a.getImageData(o,n,1,1),c=i.data,l=document.createElement("img");l.src=r,a.drawImage(l,o-5,n-5,10,10,o-5,n-5,10,10);var u={r:255-c[0],g:255-c[1],b:255-c[2]};return u},e.prototype.$getComplementaryColor=function(e){return{r:255-e.r,g:255-e.g,b:255-e.b}},e.prototype.$displayFaceBorder=function(e,t){var r=e.context,o=e.width,n=e.height,a=t.vertices;r.clearRect(0,0,o,n),r.save(),r.beginPath(),r.lineJoin="round",a.forEach(function(e){r.beginPath(),r.moveTo(e.x,e.y),e.next.forEach(function(e){r.lineTo(e.x,e.y)}),r.closePath(),r.lineWidth=1,r.strokeStyle="rgb(255, 127, 0)",r.stroke()}),r.restore()},e.prototype.$displaySelectedFace=function(e,t,r){var o=e.context,n=e.width,a=e.height,i=t.vertices,c=r.r,l=r.g,u=r.b;o.clearRect(0,0,n,a),o.save(),o.beginPath(),o.lineJoin="round",i.forEach(function(e){o.beginPath(),o.moveTo(e.x,e.y),e.next.forEach(function(e){o.lineTo(e.x,e.y)}),o.closePath(),o.lineWidth=2,o.strokeStyle="rgb(".concat(c,", ").concat(l,", ").concat(u,")"),o.shadowColor="rgba(0, 0, 0, .4)",o.shadowBlur=8,o.shadowOffsetX=3,o.shadowOffsetY=3,o.stroke()}),o.restore()},e.prototype.$guideLine=function(t,r,o){var n=t.context,a=t.width,i=t.height,c=r.x,l=r.y;n.save(),n.clearRect(0,0,a,i),0!==e.vertexStack.length&&(n.beginPath(),n.lineJoin="round",n.moveTo(e.vertexStack[0].x,e.vertexStack[0].y),e.vertexStack.forEach(function(e){var t=e.x,r=e.y;n.arc(t,r,3,0,2*Math.PI),n.fillStyle=o||"red",n.fill(),n.lineTo(t,r)}),n.lineTo(c,l),n.closePath(),n.lineWidth=2,n.strokeStyle=o||"rgb(255, 127, 0)",n.stroke(),n.restore())},e.snapGuide,e.prototype.$drawSnapGuide=function(e,t){var r=e.x,o=e.y,n=t.context,a=t.width,i=t.height;n.save(),n.clearRect(0,0,a,i),n.beginPath(),n.arc(r,o,4,0,2*Math.PI),n.fillStyle="orange",n.fill(),n.closePath(),n.restore()},e.prototype.$cancelSnapGuide=function(t,r,o){t.clearRect(0,0,r,o),window.cancelAnimationFrame(e.snapGuide)}}}),h=p,g=(r("6b54"),r("06db"),r("e814")),v=r.n(g),y=(r("4917"),r("c5f6"),r("28a5"),{install:function(e){e.prototype.$stringifyColorData=function(e){var t=e.r,r=e.g,o=e.b;return"rgb(".concat(t,", ").concat(r,", ").concat(o,")")},e.prototype.$colorDataParser=function(e){var t=e.substring(4,e.length-1).split(", "),r=Object(d["a"])(t,3),o=r[0],n=r[1],a=r[2];return{r:Number(o),g:Number(n),b:Number(a)}},e.prototype.$checkInsideTriangle=function(e,t){var r=e.x,o=e.y,n=function(e,t){return[t[0]-e[0],t[1]-e[1]]},a=function(e,t){return e[0]*t[0]+e[1]*t[1]},i=[r,o],c=[t.vertices[0].x,t.vertices[0].y],l=[t.vertices[1].x,t.vertices[1].y],u=[t.vertices[2].x,t.vertices[2].y],f=n(c,u),s=n(c,l),d=n(c,i),p=a(f,f),h=a(f,s),g=a(f,d),v=a(s,s),y=a(s,d),m=1/(p*v-h*h),b=(v*g-h*y)*m,x=(p*y-h*g)*m;return b>=0&&x>=0&&b+x<1},e.prototype.$rgbColorFormatter=function(e){return"rgb(".concat("".concat(e.match(/[A-Za-z0-9]{2}/g).map(function(e){return v()(e,16)}).join(", "),")"))},e.prototype.$hexColorFormatter=function(e){return"#".concat(e.substring(4,e.length-1).split(", ").map(function(e){var t=Number(e).toString(16);return 1===t.length?"0".concat(t):t}).join(""))}}}),m=y,b=(r("f9e3"),r("2dd8"),r("fce9"),r("dd7e")),x=r.n(b),P=r("9f7b"),w=r.n(P);o["default"].config.productionTip=!1,o["default"].use(x.a),o["default"].use(w.a),o["default"].use(h),o["default"].use(m),new o["default"]({router:f["a"],store:s["a"],render:function(e){return e(u)}}).$mount("#app")},fce9:function(e,t,r){}});
//# sourceMappingURL=app.9d687ceb.js.map